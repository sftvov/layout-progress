const body=document.querySelector("body"),wrapper=document.querySelector(".wrapper"),page=document.querySelector(".page"),header=document.querySelector(".header"),footer=document.querySelector(".footer"),md1=getComputedStyle(document.documentElement).getPropertyValue("--md1"),md2=getComputedStyle(document.documentElement).getPropertyValue("--md2"),md3=getComputedStyle(document.documentElement).getPropertyValue("--md3"),md4=getComputedStyle(document.documentElement).getPropertyValue("--md4"),md5=getComputedStyle(document.documentElement).getPropertyValue("--md5");let _slideUp=(e,t=500,r=0,s=!0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",r?e.style.height=r+"px":(e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0),window.setTimeout((()=>{r||(s&&(e.hidden=!0),e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow")),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},_slideDown=(e,t=500,r=0,s=!0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),s&&e.hidden&&(e.hidden=!1);let i,o=e.offsetHeight;r?(e.style.removeProperty("height"),i=Math.max(e.offsetHeight,r),e.style.height=o+"px",e.style.minHeight=r+"px"):(e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0),e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",r?e.style.height=i+"px":(e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom")),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}},_slideToggle=(e,t=500,r=0)=>e.offsetHeight<=r?_slideDown(e,t,r):_slideUp(e,t,r),_slideSide=(e,t=500,r=!0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),r&&e.hidden&&(e.hidden=!1);let s=e.offsetWidth;e.style.overflow="hidden",e.style.width=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetWidth,e.style.transitionProperty="width, margin, padding",e.style.transitionDuration=t+"ms",e.style.width=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("width"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}},_slideSideBack=(e,t=500,r=!0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="width, margin, padding",e.style.transitionDuration=t+"ms",e.style.width=e.offsetWidth+"px",e.offsetWidth,e.style.overflow="hidden",e.style.width=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{r&&(e.hidden=!0),e.style.removeProperty("width"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},_fadeOut=(e,t=500,r=!0)=>{e.classList.contains("_fade")||(e.classList.add("_fade"),e.style.transitionProperty="opacity",e.style.transitionDuration=t+"ms",e.style.opacity=1,e.offsetHeight,window.setTimeout((()=>{e.style.opacity=0,window.setTimeout((()=>{r&&(e.hidden=!0),e.style.removeProperty("opacity"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_fade")}),t)}),10))},_fadeIn=(e,t=500,r=!0)=>{e.classList.contains("_fade")||(e.classList.add("_fade"),r&&e.hidden&&(e.hidden=!1),e.style.transitionProperty="opacity",e.style.transitionDuration=t+"ms",e.style.opacity=0,e.offsetHeight,window.setTimeout((()=>{e.style.opacity=1,window.setTimeout((()=>{e.style.removeProperty("opacity"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_fade")}),t)}),10))},_fadeToggle=(e,t=500)=>e.hidden||parseFloat(e.style.opacity||0)<=0?_fadeIn(e,t):_fadeOut(e,t);class Activator{constructor(e,t,r){this.buttonSelector=e,this.params=t,this.params={deactivate:!0,...t},this.update=r,this.updateTimeout=null,this.activators=[...document.querySelectorAll(e)],this.currentParams=this.getParamsForCurrentBreakpoint(t),this.boundRemoveOnRemovingClick=this.removeOnRemovingClick.bind(this),this.boundRemoveOnOutClick=this.removeOnOutClick.bind(this),this.boundRemoveOnEscape=this.removeOnEscape.bind(this),this.init()}getParamsForCurrentBreakpoint(){const e=window.innerWidth;return this.params.breakpoints?Object.entries(this.params.breakpoints).map((([e,t])=>({bp:Number(e),values:t}))).filter((({bp:t})=>e>=t)).sort(((e,t)=>e.bp-t.bp)).reduce(((e,{values:t})=>(Object.keys(t).forEach((r=>{null===t[r]?delete e[r]:e[r]=t[r]})),e)),{...this.params}):this.params}init(){this.attachEventListeners(),this.update&&this.setupResizeListener()}addRemoved(e){e.classList.contains("_active")||(e.classList.add("_active"),this.currentParams.effects&&("U"===this.currentParams.effects&&_slideDown(e,this.currentParams.effectDuration,0,!1),"S"===this.currentParams.effects&&_slideSide(e,this.currentParams.effectDuration,!1),"F"===this.currentParams.effects&&_fadeIn(e,this.currentParams.effectDuration,!1)))}removeRemoved(e){e&&(this.currentParams.effects&&e.classList.contains("_active")?("U"===this.currentParams.effects&&_slideUp(e,this.currentParams.effectDuration,0,!1),"S"===this.currentParams.effects&&_slideSideBack(e,this.currentParams.effectDuration,!1),"F"===this.currentParams.effects&&_fadeOut(e,this.currentParams.effectDuration,!1),setTimeout((()=>{e.classList.remove("_active")}),this.currentParams.effectDuration)):e.classList.remove("_active"),!0===this.currentParams.bodyLock&&body_lock_remove(this.currentParams.effectDuration))}addActive(e,t,r=document){"function"==typeof this.currentParams.beforeActiveFunction&&this.currentParams.beforeActiveFunction(e,t,r,this.currentParams),Array.isArray(this.currentParams.removed)&&this.currentParams.removed.forEach((e=>{const t=document.querySelector(e);t&&this.addRemoved(t)})),Array.isArray(this.currentParams.removedOwn)&&this.currentParams.removedOwn.forEach((e=>{const s=r.querySelectorAll(e);s[t]&&this.addRemoved(s[t])})),this.currentParams.bodyLock&&body_lock_add(),Array.isArray(this.currentParams.inert)&&this.currentParams.inert.forEach((e=>e.setAttribute("inert",""))),this.currentParams.focus&&this.currentParams.focus.focus(),e.classList.add("_active"),"function"==typeof this.currentParams.activeFunсtion&&this.currentParams.activeFunсtion(e,t,this.currentParams)}removeActive(e,t,r=document){if(e.classList.remove("_active"),Array.isArray(this.currentParams.removed)){let e=1;this.activators.forEach((t=>{t.classList.contains("_active")&&(e=0)})),e&&this.currentParams.removed.map((e=>document.querySelector(e))).forEach(this.removeRemoved.bind(this))}Array.isArray(this.currentParams.removedOwn)&&this.currentParams.removedOwn.map((e=>r.querySelectorAll(e))).forEach((e=>{void 0===t?e.forEach(this.removeRemoved.bind(this)):this.removeRemoved(e[t])}))}removeActiveAll(e=!0,t=document){t.querySelectorAll(this.buttonSelector).forEach((e=>e.classList.remove("_active"))),e&&this.currentParams.removed&&this.currentParams.removed.map((e=>document.querySelector(e))).forEach(this.removeRemoved.bind(this)),this.currentParams.removedOwn&&this.currentParams.removedOwn.flatMap((e=>Array.from(t.querySelectorAll(e)))).forEach(this.removeRemoved.bind(this))}removeOnRemovingClick(e){if(this.currentParams.removing){this.currentParams.removing.some((t=>e.target.closest(t)))&&this.removeActiveAll()}}removeOnOutClick(e){const{stops:t,removed:r,removedOwn:s,buttonSelector:i}=this.currentParams;if(t?.some((t=>e.target.closest(t))))return;if(this.activators.some((t=>t===e.target||t.contains(e.target))))return;[...r||[],...s||[]].some((t=>{const r=document.querySelector(t);return r?.contains(e.target)}))||this.removeActiveAll()}removeOnEscape(e){"Escape"===e.key&&this.removeActiveAll()}findFirstActive(e){for(const t of e)if(t.classList.contains("_active"))return t;return null}attachEventListeners(){"function"!=typeof this.currentParams.beforeFunction||this.currentParams.off||this.currentParams.beforeFunction(),Array.isArray(this.currentParams.activeElements)&&Array.isArray(this.currentParams.removed)&&!this.currentParams.off&&this.currentParams.removed.forEach((e=>{const t=document.querySelector(e);t&&t.classList.add("_active")})),this.currentParams.limitContainer&&!this.currentParams.off?document.querySelectorAll(this.currentParams.limitContainer).forEach(this.updateContainerState.bind(this)):this.updateContainerState(document),document.removeEventListener("click",this.boundRemoveOnRemovingClick),document.removeEventListener("click",this.boundRemoveOnOutClick),document.removeEventListener("keydown",this.boundRemoveOnEscape),this.currentParams.removing&&document.addEventListener("click",this.boundRemoveOnRemovingClick),this.currentParams.clickOutClose&&document.addEventListener("click",this.boundRemoveOnOutClick),this.currentParams.escClose&&document.addEventListener("keydown",this.boundRemoveOnEscape)}updateContainerState(e){Array.isArray(this.currentParams.activeElements)&&Array.isArray(this.currentParams.removedOwn)&&!this.currentParams.off&&this.currentParams.removedOwn.forEach((t=>{e.querySelectorAll(t).forEach(((e,t)=>{e.classList.toggle("_active",this.currentParams.activeElements.includes(t))}))}));const t=e.querySelectorAll(this.buttonSelector);if(this.updateActivatorsState(t),this.currentParams.onlyOne&&!this.currentParams.off){const r=this.findFirstActive(t);t.forEach((e=>{e!==r&&e.classList.remove("_active")})),Array.isArray(this.currentParams.removedOwn)&&this.currentParams.removedOwn.forEach((t=>{const r=e.querySelectorAll(t),s=this.findFirstActive(r);r.forEach((e=>{e!==s&&e.classList.remove("_active")}))})),this.currentParams.deactivate||r||(t.length>0&&t[0].classList.add("_active"),Array.isArray(this.currentParams.removedOwn)&&this.currentParams.removedOwn.forEach((t=>{const r=e.querySelectorAll(t);r.length>0&&r[0].classList.add("_active")})),Array.isArray(this.currentParams.removed)&&this.currentParams.removed.forEach((e=>{const t=document.querySelector(e);t&&t.classList.add("_active")})))}}updateActivatorsState(e){e.forEach(((e,t)=>{e.removeEventListener("click",this.handleClick),this.currentParams.off||(e.addEventListener("click",(r=>{this.handleClick(e,t,r)})),Array.isArray(this.currentParams.activeElements)&&e.classList.toggle("_active",this.currentParams.activeElements.includes(t)))}))}handleClick(e,t,r){if(this.currentParams.stops?.some((e=>r.target.closest(e))))return;if(e.classList.contains("_change"))return;const s=this.currentParams.effectDuration||0;let i,o=this.activators;this.currentParams.limitContainer&&(i=e.closest(this.currentParams.limitContainer),o=i.querySelectorAll(this.buttonSelector)),o.forEach((e=>e.classList.add("_change"))),e.classList.contains("_active")?!1!==this.currentParams.deactivate&&this.removeActive(e,t,i):(this.currentParams.onlyOne&&this.removeActiveAll(!1,i),this.addActive(e,t,i)),setTimeout((()=>{o.forEach((e=>e.classList.remove("_change")))}),s)}updateActivator=()=>{clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout((()=>{this.currentParams=this.getParamsForCurrentBreakpoint(this.params),this.attachEventListeners()}),200)};setupResizeListener(){window.addEventListener("resize",this.updateActivator)}}let unlock=!0;function body_lock(e=0){body.classList.contains("_lock")?body_lock_remove(e):body_lock_add(e)}function body_lock_remove(e=0){if(unlock){unlock=!1;let t=document.querySelectorAll("._lp");setTimeout((()=>{for(let e=0;e<t.length;e++){const r=t[e];r.style.paddingRight="0px",r.style.paddingLeft="0px"}let e=document.querySelectorAll("._lmr");for(let t=0;t<e.length;t++){e[t].style.marginRight="0px"}body.style.paddingRight="0px",body.classList.remove("_lock")}),e),setTimeout((function(){unlock=!0}),e)}}function body_lock_add(e=0){if(unlock){unlock=!1;let t=document.querySelectorAll("._lp");for(let e=0;e<t.length;e++){const r=t[e];r.style.paddingRight=(window.innerWidth-wrapper.offsetWidth)/2+"px",r.style.paddingLeft=(window.innerWidth-wrapper.offsetWidth)/2+"px"}let r=document.querySelectorAll("._lmr");for(let e=0;e<r.length;e++){r[e].style.marginRight=window.innerWidth-wrapper.offsetWidth+"px"}body.style.paddingRight=window.innerWidth-wrapper.offsetWidth+"px",body.classList.add("_lock"),setTimeout((function(){unlock=!0}),e)}}document.querySelector(".header__search-close").addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(".header__search-input");t.value="",t.focus()})),new Activator("._select-btn",{stops:["._select-body"],removedOwn:["._select-body"],clickOutClose:!0,escClose:!0,onlyOne:!0}),new Activator("._menu-btn",{stops:["._menu-body"],removedOwn:["._menu-body"],escClose:!0,onlyOne:!0,effects:"U",effectDuration:300,breakpoints:{[md3]:{effects:null,effectDuration:null,clickOutClose:!0}}},!0),new Activator(".burger",{removed:[".header-menu__mobile-container"],removing:[".header-menu__icon-close"],clickOutClose:!0,escClose:!0,bodyLock:!0});