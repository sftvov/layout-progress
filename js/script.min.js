const body=document.querySelector("body"),wrapper=document.querySelector(".wrapper"),page=document.querySelector(".page"),header=document.querySelector(".header"),footer=document.querySelector(".footer"),md1=getComputedStyle(document.documentElement).getPropertyValue("--md1"),md2=getComputedStyle(document.documentElement).getPropertyValue("--md2"),md3=getComputedStyle(document.documentElement).getPropertyValue("--md3"),md4=getComputedStyle(document.documentElement).getPropertyValue("--md4"),md5=getComputedStyle(document.documentElement).getPropertyValue("--md5");let _slideUp=(e,t=500,r=0,o=!0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",r?e.style.height=r+"px":(e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0),window.setTimeout((()=>{r||(o&&(e.hidden=!0),e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow")),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},_slideDown=(e,t=500,r=0,o=!0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),o&&e.hidden&&(e.hidden=!1);let s,i=e.offsetHeight;r?(e.style.removeProperty("height"),s=Math.max(e.offsetHeight,r),e.style.height=i+"px",e.style.minHeight=r+"px"):(e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0),e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",r?e.style.height=s+"px":(e.style.height=i+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom")),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}},_slideToggle=(e,t=500,r=0)=>e.offsetHeight<=r?_slideDown(e,t,r):_slideUp(e,t,r),_slideSide=(e,t=500,r=!0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),r&&e.hidden&&(e.hidden=!1);let o=e.offsetWidth;e.style.overflow="hidden",e.style.width=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetWidth,e.style.transitionProperty="width, margin, padding",e.style.transitionDuration=t+"ms",e.style.width=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("width"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}},_slideSideBack=(e,t=500,r=!0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="width, margin, padding",e.style.transitionDuration=t+"ms",e.style.width=e.offsetWidth+"px",e.offsetWidth,e.style.overflow="hidden",e.style.width=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{r&&(e.hidden=!0),e.style.removeProperty("width"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},_fadeOut=(e,t=500,r=!0)=>{e.classList.contains("_fade")||(e.classList.add("_fade"),e.style.transitionProperty="opacity",e.style.transitionDuration=t+"ms",e.style.opacity=1,e.offsetHeight,window.setTimeout((()=>{e.style.opacity=0,window.setTimeout((()=>{r&&(e.hidden=!0),e.style.removeProperty("opacity"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_fade")}),t)}),10))},_fadeIn=(e,t=500,r=!0)=>{e.classList.contains("_fade")||(e.classList.add("_fade"),r&&e.hidden&&(e.hidden=!1),e.style.transitionProperty="opacity",e.style.transitionDuration=t+"ms",e.style.opacity=0,e.offsetHeight,window.setTimeout((()=>{e.style.opacity=1,window.setTimeout((()=>{e.style.removeProperty("opacity"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_fade")}),t)}),10))},_fadeToggle=(e,t=500)=>e.hidden||parseFloat(e.style.opacity||0)<=0?_fadeIn(e,t):_fadeOut(e,t);class Activator{constructor(e,t,r){this.buttonSelector=e,this.params=t,this.params={deactivate:!0,...t},this.update=r,this.updateTimeout=null,this.activators=[...document.querySelectorAll(e)],this.currentParams=this.getParamsForCurrentBreakpoint(t),this.boundRemoveOnRemovingClick=this.removeOnRemovingClick.bind(this),this.boundRemoveOnOutClick=this.removeOnOutClick.bind(this),this.boundRemoveOnEscape=this.removeOnEscape.bind(this),this.init()}getParamsForCurrentBreakpoint(){const e=window.innerWidth;return this.params.breakpoints?Object.entries(this.params.breakpoints).map((([e,t])=>({bp:Number(e),values:t}))).filter((({bp:t})=>e>=t)).sort(((e,t)=>e.bp-t.bp)).reduce(((e,{values:t})=>(Object.keys(t).forEach((r=>{null===t[r]?delete e[r]:e[r]=t[r]})),e)),{...this.params}):this.params}init(){this.attachEventListeners(),this.update&&this.setupResizeListener()}addRemoved(e){e.classList.contains("_active")||(e.classList.add("_active"),this.currentParams.effects&&("U"===this.currentParams.effects&&_slideDown(e,this.currentParams.effectDuration,0,!1),"S"===this.currentParams.effects&&_slideSide(e,this.currentParams.effectDuration,!1),"F"===this.currentParams.effects&&_fadeIn(e,this.currentParams.effectDuration,!1)))}removeRemoved(e){e&&(this.currentParams.effects&&e.classList.contains("_active")?("U"===this.currentParams.effects&&_slideUp(e,this.currentParams.effectDuration,0,!1),"S"===this.currentParams.effects&&_slideSideBack(e,this.currentParams.effectDuration,!1),"F"===this.currentParams.effects&&_fadeOut(e,this.currentParams.effectDuration,!1),setTimeout((()=>{e.classList.remove("_active")}),this.currentParams.effectDuration)):e.classList.remove("_active"),!0===this.currentParams.bodyLock&&body_lock_remove(this.currentParams.effectDuration))}addActive(e,t,r=document){"function"==typeof this.currentParams.beforeActiveFunction&&this.currentParams.beforeActiveFunction(e,t,r,this.currentParams),Array.isArray(this.currentParams.removed)&&this.currentParams.removed.forEach((e=>{const t=document.querySelector(e);t&&this.addRemoved(t)})),Array.isArray(this.currentParams.removedOwn)&&this.currentParams.removedOwn.forEach((e=>{const o=r.querySelectorAll(e);o[t]&&this.addRemoved(o[t])})),this.currentParams.bodyLock&&body_lock_add(),Array.isArray(this.currentParams.inert)&&this.currentParams.inert.forEach((e=>e.setAttribute("inert",""))),this.currentParams.focus&&this.currentParams.focus.focus(),e.classList.add("_active"),"function"==typeof this.currentParams.activeFunсtion&&this.currentParams.activeFunсtion(e,t,this.currentParams)}removeActive(e,t,r=document){if(e.classList.remove("_active"),Array.isArray(this.currentParams.removed)){let e=1;this.activators.forEach((t=>{t.classList.contains("_active")&&(e=0)})),e&&this.currentParams.removed.map((e=>document.querySelector(e))).forEach(this.removeRemoved.bind(this))}Array.isArray(this.currentParams.removedOwn)&&this.currentParams.removedOwn.map((e=>r.querySelectorAll(e))).forEach((e=>{void 0===t?e.forEach(this.removeRemoved.bind(this)):this.removeRemoved(e[t])}))}removeActiveAll(e=!0,t=document){t.querySelectorAll(this.buttonSelector).forEach((e=>e.classList.remove("_active"))),e&&this.currentParams.removed&&this.currentParams.removed.map((e=>document.querySelector(e))).forEach(this.removeRemoved.bind(this)),this.currentParams.removedOwn&&this.currentParams.removedOwn.flatMap((e=>Array.from(t.querySelectorAll(e)))).forEach(this.removeRemoved.bind(this))}removeOnRemovingClick(e){if(this.currentParams.removing){this.currentParams.removing.some((t=>e.target.closest(t)))&&this.removeActiveAll()}}removeOnOutClick(e){const{stops:t,removed:r,removedOwn:o,buttonSelector:s}=this.currentParams;if(t?.some((t=>e.target.closest(t))))return;if(this.activators.some((t=>t===e.target||t.contains(e.target))))return;[...r||[],...o||[]].some((t=>{const r=document.querySelector(t);return r?.contains(e.target)}))||this.removeActiveAll()}removeOnEscape(e){"Escape"===e.key&&this.removeActiveAll()}findFirstActive(e){for(const t of e)if(t.classList.contains("_active"))return t;return null}attachEventListeners(){"function"!=typeof this.currentParams.beforeFunction||this.currentParams.off||this.currentParams.beforeFunction(),Array.isArray(this.currentParams.activeElements)&&Array.isArray(this.currentParams.removed)&&!this.currentParams.off&&this.currentParams.removed.forEach((e=>{const t=document.querySelector(e);t&&t.classList.add("_active")})),this.currentParams.limitContainer&&!this.currentParams.off?document.querySelectorAll(this.currentParams.limitContainer).forEach(this.updateContainerState.bind(this)):this.updateContainerState(document),document.removeEventListener("click",this.boundRemoveOnRemovingClick),document.removeEventListener("click",this.boundRemoveOnOutClick),document.removeEventListener("keydown",this.boundRemoveOnEscape),this.currentParams.removing&&document.addEventListener("click",this.boundRemoveOnRemovingClick),this.currentParams.clickOutClose&&document.addEventListener("click",this.boundRemoveOnOutClick),this.currentParams.escClose&&document.addEventListener("keydown",this.boundRemoveOnEscape)}updateContainerState(e){Array.isArray(this.currentParams.activeElements)&&Array.isArray(this.currentParams.removedOwn)&&!this.currentParams.off&&this.currentParams.removedOwn.forEach((t=>{e.querySelectorAll(t).forEach(((e,t)=>{e.classList.toggle("_active",this.currentParams.activeElements.includes(t))}))}));const t=e.querySelectorAll(this.buttonSelector);if(this.updateActivatorsState(t),this.currentParams.onlyOne&&!this.currentParams.off){const r=this.findFirstActive(t);t.forEach((e=>{e!==r&&e.classList.remove("_active")})),Array.isArray(this.currentParams.removedOwn)&&this.currentParams.removedOwn.forEach((t=>{const r=e.querySelectorAll(t),o=this.findFirstActive(r);r.forEach((e=>{e!==o&&e.classList.remove("_active")}))})),this.currentParams.deactivate||r||(t.length>0&&t[0].classList.add("_active"),Array.isArray(this.currentParams.removedOwn)&&this.currentParams.removedOwn.forEach((t=>{const r=e.querySelectorAll(t);r.length>0&&r[0].classList.add("_active")})),Array.isArray(this.currentParams.removed)&&this.currentParams.removed.forEach((e=>{const t=document.querySelector(e);t&&t.classList.add("_active")})))}}updateActivatorsState(e){e.forEach(((e,t)=>{e.removeEventListener("click",this.handleClick),this.currentParams.off||(e.addEventListener("click",(r=>{this.handleClick(e,t,r)})),Array.isArray(this.currentParams.activeElements)&&e.classList.toggle("_active",this.currentParams.activeElements.includes(t)))}))}handleClick(e,t,r){if(this.currentParams.stops?.some((e=>r.target.closest(e))))return;if(e.classList.contains("_change"))return;const o=this.currentParams.effectDuration||0;let s,i=this.activators;this.currentParams.limitContainer&&(s=e.closest(this.currentParams.limitContainer),i=s.querySelectorAll(this.buttonSelector)),i.forEach((e=>e.classList.add("_change"))),e.classList.contains("_active")?!1!==this.currentParams.deactivate&&this.removeActive(e,t,s):(this.currentParams.onlyOne&&this.removeActiveAll(!1,s),this.addActive(e,t,s)),setTimeout((()=>{i.forEach((e=>e.classList.remove("_change")))}),o)}updateActivator=()=>{clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout((()=>{this.currentParams=this.getParamsForCurrentBreakpoint(this.params),this.attachEventListeners()}),200)};setupResizeListener(){window.addEventListener("resize",this.updateActivator)}}let unlock=!0;function getScrollbarWidth(){return window.innerWidth-document.documentElement.clientWidth}function calculateScrollbarWidth(){if(!document.body.classList.contains("_lock")){const e=getScrollbarWidth();document.documentElement.style.setProperty("--scrollbar",`${e}px`)}}function addScrollbarToStyle(e,t,r){e.forEach((e=>{const o=window.getComputedStyle(e)[t];e.style[t]=`calc(${o} + ${r}px)`}))}function removeInlineStyle(e,t){e.forEach((e=>{e.style[t]=""}))}function body_lock(e=0){document.body.classList.contains("_lock")?body_lock_remove(e):body_lock_add(e)}function body_lock_remove(e=0){unlock&&(unlock=!1,setTimeout((()=>{removeInlineStyle(document.querySelectorAll("._lp"),"paddingRight"),removeInlineStyle(document.querySelectorAll("._lp"),"paddingLeft"),removeInlineStyle(document.querySelectorAll("._lpr"),"paddingRight"),removeInlineStyle(document.querySelectorAll("._lmr"),"marginRight"),removeInlineStyle([document.body],"paddingRight"),document.body.classList.remove("_lock"),unlock=!0}),e))}function body_lock_add(e=0){if(!unlock)return;unlock=!1;const t=getScrollbarWidth(),r=t/2;addScrollbarToStyle(document.querySelectorAll("._lp"),"paddingRight",r),addScrollbarToStyle(document.querySelectorAll("._lp"),"paddingLeft",r),addScrollbarToStyle(document.querySelectorAll("._lpr"),"paddingRight",t),addScrollbarToStyle(document.querySelectorAll("._lmr"),"marginRight",t);const o=window.getComputedStyle(document.body).paddingRight;document.body.style.paddingRight=`calc(${o} + ${t}px)`,document.body.classList.add("_lock"),setTimeout((()=>{unlock=!0}),e)}function updateIndicator(e="._active-container",t="._active-item._active",r="._active-indicator"){document.querySelectorAll(e).forEach((e=>{const o=e.querySelector(t),s=e.querySelector(r);if(!o||!s)return;o.parentElement;s.style.setProperty("--indicator-left",`${o.offsetLeft}px`),s.style.setProperty("--indicator-top",`${o.offsetTop}px`),s.style.setProperty("--indicator-width",`${o.offsetWidth}px`),s.style.setProperty("--indicator-height",`${o.offsetHeight}px`)}))}document.querySelectorAll("._tabs").forEach((e=>{const t=e.querySelectorAll("._tabs-title"),r=e.querySelectorAll("._tabs-block"),o=e.querySelector("._tabs-indicator");t.forEach(((e,s)=>{const i=document.querySelector(e.dataset.tabLink);[e,i].forEach((i=>{i&&i.addEventListener("click",(()=>{t.forEach((e=>e.classList.remove("_active"))),r.forEach((e=>e.classList.remove("_active"))),e.classList.add("_active"),r[s]?.classList.add("_active"),o&&updateIndicator("._tabs","._tabs-title._active","._tabs-indicator")}))}))}))})),document.querySelector(".header__search-close").addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(".header__search-input");t.value="",t.focus()})),new Activator("._select-btn",{stops:["._select-body"],removedOwn:["._select-body"],clickOutClose:!0,escClose:!0,onlyOne:!0}),new Activator("._menu-btn",{stops:["._menu-body"],removedOwn:["._menu-body"],escClose:!0,onlyOne:!0,effects:"U",effectDuration:300,breakpoints:{[md3]:{effects:null,effectDuration:null,clickOutClose:!0}}},!0),new Activator(".burger",{removed:[".header-menu__mobile-container"],removing:[".header-menu__icon-close"],clickOutClose:!0,escClose:!0,bodyLock:!0}),window.onload=()=>{calculateScrollbarWidth(),updateIndicator("._tabs","._tabs-title._active","._tabs-indicator")},window.onresize=()=>{calculateScrollbarWidth(),updateIndicator("._tabs","._tabs-title._active","._tabs-indicator")};